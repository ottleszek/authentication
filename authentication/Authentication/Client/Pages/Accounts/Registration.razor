@page "/registration"

@namespace Authentication.Client.Pages.Accounts
@using Authentication.Shared;

<div class="d-flex justify-content-center">
    <MudChip Class="pt-2" Color="Color.Primary">
        <h3>Regisztráció</h3>
    </MudChip>
</div>

<div class="d-flex justify-content-center">
    <MudCard Width="500px">
        @if (RegistrationViewModel is null)
        {
            <MudChip Class="pt-2 d-flex justify-content-center" Color="Color.Error">
                <p>A regisztráció nem lehetséges!</p>
            </MudChip>
        }
        else
        {
            if (_validation is not null)
            {
                <MudForm Model="RegistrationViewModel" @ref="_form" Validation="_validation.ValidateValue">
                    <MudCardContent>
                        @if (ErrorString.HasError)
                        {
                            <MudChip class="pt-2 d-flex justify-content-center" Color="Color.Error">
                                <p>@ErrorString.Error</p>
                            </MudChip>
                        }
                        <MudTextField @bind-Value="RegistrationViewModel.LastName"
                                      For="@( () => RegistrationViewModel.LastName)"
                                      Immediate=true
                                      Required="true"
                                      RequiredError="A vezetéknév szükséges!"
                                      Label="Vezetéknév"
                                      />
                        <MudTextField @bind-Value="RegistrationViewModel.FirstName"
                                      For="@( () => RegistrationViewModel.FirstName)"
                                      Immediate=true
                                      Required="true"
                                      RequiredError="A keresztnév szükséges!"
                                      Label="Keresztnév"
                                      />
                        <MudTextField @bind-Value="RegistrationViewModel.Email"
                                      For="@( () => RegistrationViewModel.Email)"
                                      Immediate=true
                                      Required="true"
                                      RequiredError="Az email cím szükséges!"
                                      InputType="InputType.Email"
                                      Label="Email" 
                                      />
                        <MudTextField @bind-Value="RegistrationViewModel.Password"
                                      For="@( () => RegistrationViewModel.Password)"
                                      Immediate=true
                                      Label="Jelszó"
                                      Required="true"
                                      InputType="InputType.Password"
                                      RequiredError="A jelszó szükséges!"
                                      />
                        <MudTextField @bind-Value="RegistrationViewModel.ConfirmPassword"
                                      For="@( () => RegistrationViewModel.ConfirmPassword)"
                                      Immediate=true
                                      Required="true"
                                      RequiredError="A vezetéknév szükséges"
                                      InputType="InputType.Password"
                                      Label="Kérem mégegyszer írja be a jelszót"
                                      />
                    </MudCardContent>
                    <MudCardActions>
                        <MudButton 
                            Variant="Variant.Filled" 
                            Color="Color.Primary" 
                            Class="ml-auto" 
                            OnClick="RegisterAsync">
                            Regisztráció
                        </MudButton>
                    </MudCardActions>
                </MudForm>
            }
        }
    </MudCard>
</div>

@code {

}